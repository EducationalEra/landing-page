include ../includes/head-lzv-rights.jade
doctype html
html
	+head
	body

		include ../includes/gtm.jade
		include ../includes/header.jade
		.t-cover(style="height:300px; background-image:url('../img/lzv-rights/HEAD/3.jpg');")
			.t270
				.t-valign_middle(style='height:300px;')
					.t270__wrapper
						div.h1-lzv Family rights
		section
			.container
				p.lzv-main
					| HIV positive people are more likely to face violations of their rights in family relationships. Moreover, they are more likely to become victims of domestic violence. What rights does everyone have in family relationships? How to protect oneself against violence? 
					span.lzv-bold  Natalia Kozarenko
					|, Public Reception Coordinator of the Ukrainian Helsinki Human Rights Union, will tell you about this and more.
					br
					br
					| Find it all out in the video and take the 
					a(href="#test") test
					|. to sum the information up.

			.t-container
				center
					h2.h2-lzv VIDEO MATERIALS

			.t-container
				center
					div.lzv-video
						iframe#youtubeiframe68551264(width='100%', height='100%', src='https://www.youtube.com/embed/2owtTGe3TZI', frameborder='0', allowfullscreen='')
			.t-container
				center
					div.lzv-video
						iframe#youtubeiframe68551264(width='100%', height='100%', src='https://www.youtube.com/embed/jSKE79F_ugk', frameborder='0', allowfullscreen='')


		.t-container.quiz_container_big#test
			center
				h2.h2-lzv Test
			#quiz_application
				br
				br
				div(v-if='!started')
				div(v-else-if='progress')
					.quiz_container.quiz
						.quiz_progess
							| Question:
							span  {{index + 1}} / {{quiz.length}}
						.quiz_question
							h3 {{quiz[index].title}}
							div(v-if='quiz[index].description !== false')
								p {{quiz[index].description}}
							div(v-if='quiz[index].img !== false')
								img(v-bind:src='quiz[index].img')
						.quiz_answers(v-for='(answer, key) in quiz[index].answers')
							.quiz_answer
								div(v-if='quiz[index].type == 0')
									button.quiz_radiobutton(v-if='answers[index] !== key', @click='choose(key)')
									button.quiz_radiobutton.chose(v-else='')
								div(v-else='')
									button.checkbox(v-if='answers[index][key] !== true ', @click='choose(key)')
									button.checkbox(v-else='', @click='choose(key)')
										svg(width='16', height='11', viewBox='0 0 16 11', fill='none', xmlns='http://www.w3.org/2000/svg')
											path(d='M6.04309 10.943L0.0608365 5.33851C-0.0202788 5.26252 -0.0202788 5.14853 0.0608365 5.07254L1.78454 3.45769C1.86565 3.38169 1.98733 3.38169 2.06844 3.45769L6.18504 7.31433L13.9316 0.0569948C14.0127 -0.0189983 14.1343 -0.0189983 14.2155 0.0569948L15.9392 1.67185C16.0203 1.74784 16.0203 1.86183 15.9392 1.93782L6.327 10.943C6.24588 11.019 6.12421 11.019 6.04309 10.943Z', fill='#65B2E1')
								.quiz_margin_left
									p(v-if='!answer.image') {{answer.body}}
									img(v-else='', v-bind:src='answer.image')
									p.quiz_hint.true(v-if='quiz[index].type == 0 && submit == true && answers[index] === key && answer.correct === true') {{answer.hint}}
									p.quiz_hint.true(v-if='quiz[index].type == 1 && submit == true && answers[index][key] == true &&  answer.correct === true') {{answer.hint}}
									p.quiz_hint.false(v-if='quiz[index].type == 0 && submit == true && answers[index] === key && answer.correct === false') {{answer.hint}}
									p.quiz_hint.false(v-if='quiz[index].type == 1 && submit == true && answers[index][key] == true &&  answer.correct === false') {{answer.hint}}
						button.quiz_button.disabled(v-if='chosen == 0 && submit === false') Відповісти 
						button.quiz_button(v-else-if='chosen != 0 && submit === false', @click='submitAnswer()') Відповісти 
						.quiz_main_hint(v-else-if='submit === true')
							button.quiz_button(@click='goNext()') Далі
							div
								p(v-if='check == true', v-html='quiz[index].true_hint')
								p
								p(v-if='check == false', v-html='quiz[index].false_hint')
								p
				div(v-else='')
					.quiz_container.result
						h5 Result
						h5
						h2 {{score}}/{{answers.length}}
						p {{resultText[score].description}}
						button.quiz_button(@click='restart()') Try again
		
		
		script(src='https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js')
		script.
			new Vue({
			el: '#quiz_application',
			data: function () {
			return {
			intro:{
			title: '',
			description: "",
			button: 'Start',
			background: false,
			},
			quiz: [
			{
			type: 0,
			title: 'If you want to register a marriage, is the other party obliged to provide information about his/her health status?',
			description: '',
			img: false,
			true_hint: '<span class="true"></span>',
			false_hint: '<span class="false"></span>',
			answers: [
			{
			body: 'Yes',
			hint: 'False',
			correct: false
			},
			{
			body: 'No',
			hint: 'False',
			correct: false
			},
			{
			body: 'Information on the health status is provided voluntarily',
			hint: 'True',
			correct: true
			}
			]
			},
			{
			type: 0,
			title: 'Are adult children entitled to alimony?',
			description: '',
			img: false,
			true_hint: '<span class="true"></span>',
			false_hint: '<span class="false"></span>',
			answers: [
			{
			body: 'Yes',
			hint: 'False',
			correct: false
			},
			{
			body: 'No',
			hint: 'False',
			correct: false
			},
			{
			body: 'Only disabled adult children are entitled to alimony from parents',
			hint: 'True',
			correct: true
			}
			]
			},
			{
			type: 1,
			title: 'Who can conclude a marriage contract?',
			description: '',
			img: false,
			true_hint: '<span class="true"></span>',
			false_hint: '<span class="false"></span>',
			answers: [
			{
			body: 'Individuals who have applied for marriage registration',
			hint: 'True',
			correct: true
			},
			{
			body: 'Married couple',
			hint: 'True',
			correct: true
			},
			{
			body: 'Persons who live together and have common children.',
			hint: 'False',
			correct: false
			},
			]
			},
			{
			type: 0,
			title: 'Which of the following is NOT the forms of domestic violence?',
			description: '',
			img: false,
			true_hint: '<span class="true"></span>',
			false_hint: '<span class="false"></span>',
			answers: [
			{
			body: 'physical',
			hint: 'False',
			correct: false
			},
			{
			body: 'sexual',
			hint: 'False',
			correct: false
			},
			{
			body: 'psychological',
			hint: 'False',
			correct: false
			},
			{
			body: 'social',
			hint: 'True',
			correct: true
			},
			{
			body: 'economic',
			hint: 'False',
			correct: false
			}
			]
			},
			{
			type: 0,
			title: 'What kind of state benefit a person who has been subjected to domestic violence CANNOT receive?',
			description: '',
			img: false,
			true_hint: '<span class="true"></span>',
			false_hint: '<span class="false"></span>',
			answers: [
			{
			body: 'free legal aid',
			hint: 'False',
			correct: false
			},
			{
			body: 'monthly payments amounting to 170 UAH',
			hint: 'True',
			correct: true
			},
			{
			body: 'psychological assistance',
			hint: 'False',
			correct: false
			},
			{
			body: 'social services',
			hint: 'False',
			correct: false
			},
			{
			body: 'temporary shelter in the centre for social and psychological support, crisis  ',
			hint: 'False',
			correct: false
			}
			]
			},
			],
			resultText: [
			{
			description: 'Please, watch the video again and take the test. You can do it! If you like the project, share it with your friends :)',
			},
			{
			description: 'You can do better! Please, watch the video to improve your result. If you like the project, share it with your friends :)',
			},
			{
			description: 'Not bad! To improve your result please, watch the video again and retake the test. If you like the project, share it with your friends :)',
			},
			{
			description: 'Good result! If you like the project, share it with your friends :) ',
			}, {
			description: 'Great job, keep it up! More interesting information still remains ahead. If you like the project, share it with your friends :)',
			}
			],
			started: false,
			chosen: 0,
			answers: [],
			submit: false,
			progress: true,
			check: false,
			score:0,
			index: 0
			}
			},
			computed: {
			counter: function(){
			if(this.quiz[this.index].type == 0){
			if(this.quiz[this.index].answers[this.answers[this.index]].correct == true){
			this.score++;
			return true;
			}else{
			return false;
			}
			}else{
			for (let i = 0; i < this.quiz[this.index].answers.length; i++) {
			if(this.quiz[this.index].answers[i].correct != this.answers[this.index][i]){
			return false;
			}
			}
			this.score++;
			return true;
			}
			}
			},
			methods: {
			startTest: function () {
			this.started = true;
			this.answers = Array(this.quiz.length)
			for (let i = 0; i < this.quiz.length; i++) {
			if(this.quiz[i].type == 1){
			this.answers[i] = Array(this.quiz[i].answers.length).fill(false);
			}
			}
			},
			restart: function(){
			this.started = false;
			this.chosen = 0;
			this.answers = [];
			this.submit = false;
			this.progress = true;
			this.check = false;
			this.score = 0;
			this.index = 0;
			this.startTest();
			},
			choose: function(key){
			if(this.submit != 0){
			return false;
			}
			if(this.quiz[this.index].type === 0){
			Vue.set(this.answers, this.index, key)
			this.chosen = 1;
			}else{
			if(this.answers[this.index][key]===false){
			Vue.set(this.answers[this.index], key, true);
			this.chosen += 1;
			}else{
			Vue.set(this.answers[this.index], key, false);
			this.chosen -= 1;
			}
			}
			console.log(this.answers);
			},
			submitAnswer: function () {
			this.submit = true;
			this.chosen = 0;
			this.check = this.counter
			},
			goNext: function () {
			this.index++;
			this.submit = false;
			if (this.index === this.quiz.length) {
			this.showResult()
			}
			},
			showResult: function (answers) {
			this.progress = false
			},
			},
			mounted: function()
			{
			console.log("dsdw");
			this.startTest();
			}
			})
			
		.t-container
			center
				h2.h2-lzv LIVING WITH HIV
		.container
			p.lzv-main
				span.lzv-bold Olena Vdovenko
				| has been living with HIV for over 20 years. In the interview, she talks about her personal experience and challenges that women living with HIV face.
			center
				div.lzv-video
					iframe#youtubeiframe68551264(width='100%', height='100%', src='https://www.youtube.com/embed/PTgc8lR98Y4', frameborder='0', allowfullscreen='', style='height: 452.5px; max-width:900px;')

		include ../includes/lzv-footer-eng.jade
		include ../includes/footer.jade
		include ../includes/scripts.jade